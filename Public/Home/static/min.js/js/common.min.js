window.imagePath = "";
window.path = window.imagePath;
function formatDate(a, c) {
    c || (c = "yyyy-MM-dd HH:mm:ss");
    a = new Date(parseInt(a));
    var b = {
        yyyy: a.getFullYear(),
        M: a.getMonth() + 1,
        d: a.getDate(),
        H: a.getHours(),
        m: a.getMinutes(),
        s: a.getSeconds(),
        S: ("" + (a.getMilliseconds() + 1E3)).substr(1),
        MM: ("" + (a.getMonth() + 101)).substr(1),
        dd: ("" + (a.getDate() + 100)).substr(1),
        HH: ("" + (a.getHours() + 100)).substr(1),
        mm: ("" + (a.getMinutes() + 100)).substr(1),
        ss: ("" + (a.getSeconds() + 100)).substr(1)
    };
    return c.replace(/(y+|M+|d+|H+|s+|m+|S)/g, function (a) {
        return b[a]
    })
}

function lazyload(a, c) {
    $("img.lazy" + a).lazyload({
        effect: "fadeIn",
        placeholder: "1" == c ? "/static/img/front/loading_" + a + ".gif" : "/static/img/front/loading_200.gif",
        threshold: 100
    })
}

function handlingException(a) {}

function verification(a, c) {
    return null != a && "" != a && "undefined" != typeof a && a.status ? !0 : !1
}

function ajaxBeforeSendOfList() {
    "undefined" != typeof tableId && "" != tableId && ($(".pageStr").hide(), "#brokerage_source_list_table" == tableId || "#brokerage_consume_list_table" == tableId ? $(tableId).html("\x3ctr\x3e\x3ctd colspan\x3d'5'\x3e\x3cdiv style\x3d'width:940px;text-align: center;margin-top: 50px;'\x3e\x3cimg style\x3d'width:50px;height:50px'src\x3d'/static/img/loading.gif'\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e") : $(tableId).html("\x3cdiv style\x3d'width:940px;text-align: center;margin-top: 50px;'\x3e\x3cimg style\x3d'width:50px;height:50px'src\x3d'/static/img/loading.gif'\x3e\x3c/div\x3e"))
}

function ajaxCompleteOfList() {
    $(".pageStr").show()
}

function ajaxBeforeSendOfDetail() {}

function ajaxCompleteOfDetail() {}

function isNull(a, c, b, e) {
    switch (a) {
    case "no_record":
        a = "/static/img/no_record.png";
        break;
    case "no_presell":
        a = "/static/img/no_presell.png";
        break;
    case "self_win":
        a = "/static/img/self_win.png";
        break;
    case "no_num":
        a = "/static/img/no_num.png";
        break;
    case "single_self":
        a = "/static/img/single_self.png";
        break;
    case "no_nums":
        a = "/static/img/no_nums.png";
        break;
    case "hb":
        a = "/static/img/hb.png";
        break;
    case "invite_no":
        a = "/static/img/invite_no.png";
        break;
    case "other_num":
        a = "/static/img/other_num.png";
        break;
    case "other_win":
        a = "/static/img/other_win.png";
        break;
    case "other_presell":
        a = "/static/img/other_presell.png";
        break;
    case "single_other":
        a = "/static/img/single_other.png";
        break;
    case "brokerage_no":
        a = "/static/img/yjjl.png";
        break;
    case "no-ru":
        a = "/static/img/no-ru.png";
        break;
    case "jie_no":
        a = "/static/img/jie_no.png";
        break;
    default:
        a = "/static/img/function/null_data.jpg"
    }
    b = '\x3cdiv style\x3d"text-align:center;width:948px;height:' + b + "px;padding-top:" + (b / 2 + 25) + 'px;"\x3e';
    b = e ? b + ('\x3ca href\x3d"' + e + '"  target\x3d"_blank" \x3e') + ('\x3cimg style\x3d"width:377px;height:49px;" src\x3d"' + a + '" alt\x3d"\u6682\u65e0\u6570\u636e" \x3e') + "\x3c/a\x3e" : b + ('\x3cimg src\x3d"' + a + '" alt\x3d"\u6682\u65e0\u6570\u636e" \x3e');
    b += "\x3c/div\x3e";
    $("#" + c).html(b)
}

function replaceUndefined(a) {
    return "undefined" == typeof a ? "" : a
}

function gotoGoods(a, c) {
    window.location.href = "/goods/goods" + a + "-" + c + ".html"
}

/*function addCart(a) {
    var url = "<{:U('Cart/docart')}>";
    $.ajax({
        url: url,
        type: 'POST',
        dataType: 'json',
        data: {id: a},
        success:function(data){
            if(data == 'ok'){
                for (var b = cookieToList(), e = 0, d = 0; d < b.length; d++)
                    if (b[d].gid == a) {
                        b[d].buyTimes = parseInt(b[d].buyTimes) + parseInt(c);
                        e = 1;
                        break
                    }
                    if (0 == e) {
                        b.push({
                            buyPeriod: 1,
                            client: 1,
                            gid: a,
                            buyTimes: c + ""
                        })
                    }
                listToCookie(b);
                cartCount();
            }else{
                layer.msg('添加失败！',{offset: '300px',time: 1500,icon: 2});    
            }
        }
    });
}*/

function delCart(a) {
    for (var c = cookieToList(), b = 0; b < c.length; b++)
        if (c[b].gid == a) {
            c.splice(b, 1);
            break
        }
    listToCookie(c)
}

function listToCookie(a) {
    localStorage.setItem("cart", JSON.stringify(a));
    var storage = window.localStorage; 
    for (var i=0, len = storage.length; i < len; i++)
    {
        var key = storage.key(i); 
        var value = storage.getItem(key); 
        console.log(value); 
    }
}

function cookieToList() {
    var a = [];
    localStorage.getItem("cart") && (a = eval(localStorage.getItem("cart")));
    return a
}

function updateCart(a, c, b) {
    for (var e = cookieToList(), d = 0; d < e.length; d++)
        if (e[d].gid == a) {
            e[d].buyTimes = c;
            b && (e[d].buyPeriod = b);
            break
        }
    listToCookie(e)
}


function checkLogin(a) {
    var c = $("#mid").val();
    null != c && "" != c ? window.location.href = a : go2Login(a)
}

function regMatchNum(a) {
    return a.match(/\d+(\.\d+)?/g)
}

function regMatchSymbol(a) {
    return a.match(/[^\d\.]/g)
};